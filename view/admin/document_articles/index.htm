<style>
    .document{
        width: 100%;
        display: flex;
        margin: 0 auto;
        padding: 0;
    }
    .leftBar{
        background: #F7F7F7;
        position: relative;
        width: 15%;
        height: auto;
        line-height: 30px;
        padding-top: 20px;
        border-radius: 3px;
    }
    .rightBar{
        width: 95%;
        position: relative;
    }
    .edit{
        width: 100%;
        overflow: hidden;
    }
    .button{
        margin-right: 30px;
        float:right ;
    }
    .content{
        width: 100%;
        margin: 0;
        padding: 0;
    }
    .list{
        margin-bottom: 50px;
    }
    .red{
        color: red;
    }
    .icon{
        font-size: 36px;
        float: right;
    }
    .all_document_menu{
        position: absolute;
        z-index: 20;
        overflow-y: auto;
        display: none;
        width: 900px;
        height: 800px;
        background-color: #fff;
        border: 1px solid #d7d8d9;
        box-shadow: 0 2px 4px 0 rgba(0,0,0,.15);
    }
    .document_menu_list{
        width: 180px;
        padding: 0 0 0 20px;
        text-align: left;
        line-height: 50px;
        height: 50px;
        float: left;
    }
    .main{
        width: 98%;
        padding: 0 0 0 2%;
        margin: 0;
    }
    .blank{
        color: #000;
    }
</style>
<script language="javascript">
    if (window.addEventListener) {
        FixPrototypeForGecko();
    }
    function FixPrototypeForGecko() {
        HTMLElement.prototype.__defineGetter__("runtimeStyle", element_prototype_get_runtimeStyle);
        window.constructor.prototype.__defineGetter__("event", window_prototype_get_event);
        Event.prototype.__defineGetter__("srcElement", event_prototype_get_srcElement);
        Event.prototype.__defineGetter__("fromElement", element_prototype_get_fromElement);
        Event.prototype.__defineGetter__("toElement", element_prototype_get_toElement);
    }
    function element_prototype_get_runtimeStyle() {
        return this.style;
    }
    function window_prototype_get_event() {
        return SearchEvent();
    }
    function event_prototype_get_srcElement() {
        return this.target;
    }
    function element_prototype_get_fromElement() {
        var node;
        if (this.type == "mouseover") node = this.relatedTarget;
        else if (this.type == "mouseout") node = this.target;
        if (!node) return;
        while (node.nodeType != 1) node = node.parentNode;
        return node;
    }
    function element_prototype_get_toElement() {
        var node;
        if (this.type == "mouseout") node = this.relatedTarget;
        else if (this.type == "mouseover") node = this.target;
        if (!node) return;
        while (node.nodeType != 1) node = node.parentNode;
        return node;
    }
    function SearchEvent() {
        if (document.all) return window.event;
        func = SearchEvent.caller;
        while (func != null) {
            var arg0 = func.arguments[0];
            if (arg0 instanceof Event) {
                return arg0;
            }
            func = func.caller;
        }
        return null;
    }
</script>
<script>
    $(function(){
        $("#icon").mouseover(function(){
            $(".all_document_menu").show();  //隐藏
        })
        $("#all_document_menu").mouseout(function(event){
            var obj = event.toElement;
            while( obj != null && obj.id != 'all_document_menu' ){
                obj = obj.parentElement;
            }
            if( obj == null ) {
                $(".all_document_menu").hide();  //显示
            }
        })
    })
</script>
<div class="document">
    <div class="leftBar">
        <div class="list">
            <span>< {{ action_name?action_name:action }}</span>
            <svg t="1562931335287" id="icon" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1090" width="32" height="32">
                <path d="M383.068024 469.026256l-171.915441 0c-47.39238 0-85.957721-38.533618-85.957721-85.957721l0-171.915441c0-47.39238 38.566364-85.957721 85.957721-85.957721l171.915441 0c47.40773 0 85.957721 38.566364 85.957721 85.957721l0 171.915441C469.025745 430.492638 430.475753 469.026256 383.068024 469.026256L383.068024 469.026256zM426.046884 211.153094c0-23.695678-19.283182-42.97886-42.97886-42.97886l-171.915441 0c-23.680329 0-42.97886 19.283182-42.97886 42.97886l0 171.915441c0 23.712051 19.298532 42.97886 42.97886 42.97886l171.915441 0c23.695678 0 42.97886-19.266809 42.97886-42.97886L426.046884 211.153094 426.046884 211.153094zM383.068024 898.798487l-171.915441 0c-47.39238 0-85.957721-38.518269-85.957721-85.941348l0-171.915441c0-47.39238 38.566364-85.957721 85.957721-85.957721l171.915441 0c47.40773 0 85.957721 38.566364 85.957721 85.957721l0 171.915441C469.025745 860.281241 430.475753 898.798487 383.068024 898.798487L383.068024 898.798487zM426.046884 640.941698c0-23.695678-19.283182-42.97886-42.97886-42.97886l-171.915441 0c-23.680329 0-42.97886 19.283182-42.97886 42.97886l0 171.915441c0 23.712051 19.298532 42.97886 42.97886 42.97886l171.915441 0c23.695678 0 42.97886-19.266809 42.97886-42.97886L426.046884 640.941698 426.046884 640.941698zM877.35664 748.516762c-11.879562 0-21.521153-9.577123-21.521153-21.457708l0-86.117356c0-23.695678-19.283182-42.97886-42.97886-42.97886l-171.915441 0c-23.680329 0-42.97886 19.283182-42.97886 42.97886l0 171.915441c0 23.712051 19.298532 42.97886 42.97886 42.97886l86.117356 0c11.864212 0 21.48943 9.657964 21.48943 21.521153 0 11.83249-9.625218 21.441335-21.48943 21.441335L640.941186 898.798487c-47.39238 0-85.957721-38.518269-85.957721-85.941348l0-171.915441c0-47.39238 38.566364-85.957721 85.957721-85.957721l171.915441 0c47.40773 0 85.957721 38.566364 85.957721 85.957721l0 86.117356C898.814348 738.939639 889.188106 748.516762 877.35664 748.516762L877.35664 748.516762zM812.856627 469.026256l-171.915441 0c-47.39238 0-85.957721-38.533618-85.957721-85.957721l0-171.915441c0-47.39238 38.566364-85.957721 85.957721-85.957721l171.915441 0c47.40773 0 85.957721 38.566364 85.957721 85.957721l0 171.915441C898.814348 430.492638 860.264357 469.026256 812.856627 469.026256L812.856627 469.026256zM855.835488 211.153094c0-23.695678-19.283182-42.97886-42.97886-42.97886l-171.915441 0c-23.680329 0-42.97886 19.283182-42.97886 42.97886l0 171.915441c0 23.712051 19.298532 42.97886 42.97886 42.97886l171.915441 0c23.695678 0 42.97886-19.266809 42.97886-42.97886L855.835488 211.153094 855.835488 211.153094z" p-id="1091"></path>
            </svg>
        </div>
        <ul>
            {% for index, sub_document_menu in sub_document_menus %}
                <li ><a class="{{ sub_document_menu.id == document_article.document_menu_id?'red':'' }}" href="/admin/document_articles/index?sub_document_menu_id={{ sub_document_menu.id}}&action={{ action }}&action_name={{ action_name }}">{{ sub_document_menu.name }}</a></li>
            {% endfor %}
        </ul>
    </div>
    <div class="rightBar">
        <div class="all_document_menu" id="all_document_menu">
                {% for index, permission_group in permission_groups %}
                    <div class="document_menu_list"><a class="{{ permission_group['id'] > 0 ? 'red':'blank'}}" href="/admin/document_articles/index?action={{ permission_group['ctrl_name'] }}">{{ permission_group['description']?permission_group['description']:permission_group['ctrl_name'] }}</a> </div>
                {% endfor %}
        </div>
        <div class="main">
            <div class="edit">
                {% if _is_allowed('document_articles','edit') %}
                    <a class="button" href="/admin/document_articles/edit?id={{ document_article?document_article.id:'' }}&action={{ action }}&action_name={{ action_name }}"><button>编辑文档</button></a>
                {% endif %}
                {% if _is_allowed('document_articles','new') %}
                    <a class="button" href="/admin/document_articles/new?action={{ action }}&action_name={{ action_name }}"><button>创建文档</button></a>
                {% endif %}
            </div>
            {% if document_article and document_article.title %}
                <div class="content" >
                    <p class="list">
                    <h3>{{ document_article.title}}</h3>
                    作者： {{ document_article.author_name }}  创建时间：{{ document_article.created_at_text }}  更新时间：{{ document_article.updated_at_text }}
                    </p>
                    <p class="list">
                    <h4>摘要描述</h4>
                    {{ document_article.describe }}
                    </p>
                    <p class="list">
                    <h4>操作步棸</h4>
                    {{ document_article.content }}
                    </p>
                    <p class="list">
                    <h4>注意事项</h4>
                    {{ document_article.tips }}
                    </p>
                </div>
            {% else %}
                <p class="list"></p>
                <p>还没有文档,先创建一个吧~</p>
            {% endif %}
        </div>
    </div>
</div>
